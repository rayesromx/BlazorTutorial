@page "/students"
@using BlazorTutorial.Models
<h3>Students</h3>
<PageTitle>Students</PageTitle>


<div>
    @if (StudentList != null)
    {
        @foreach (var s in GetStudents())
        {
            <div>
                Student
                <p>Name: @s.Name</p>
                <p>ID: @s.StudentId</p>
                <p>Email: @s.Email</p>
            </div>
        }

    }
    else if (StudentList?.Count == 0)
    {
        <p>Empty list.</p>
    }
    else
    {
        <p>Loading students...</p>
    }
    
</div>


@code {
    protected override async Task OnInitializedAsync()
    {
        await Task.Delay(3000);
        StudentList = GetStudents();
    }

    public List<Student>? StudentList;

    private List<Student> GetStudents() => new List<Student>()
        {
            new Student(){
            Name ="Raymundo",
            StudentId = 1421271,
            Email ="ray.esro@gmail.com"
            },
            new Student(){
            Name ="Angelica",
            StudentId = 1521272,
            Email ="angi.garcia@gmail.com"
            },
        };
}
